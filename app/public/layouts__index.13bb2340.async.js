(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[1],{GOVz:function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("T2oS");var n=l(a("W9HT"));a("qVdP");var u=l(a("jsC+"));a("+L6B");var d=l(a("2/Rp"));a("Pwec");var r=l(a("CtXQ")),s=l(a("d6i3")),c=l(a("1l/V"));a("OaEy");var o=l(a("2fM7"));a("lUTK");var i=l(a("BvKs"));a("B9cy");var f=l(a("Ol7k")),m=l(a("q1tI")),g=(l(a("mOP9")),l(a("usdK"))),p=a("cNiB"),h=l(a("J0ax")),E=f.default.Header,y=f.default.Content,v=f.default.Footer,k=f.default.Sider,_=i.default.SubMenu,I=o.default.Option;class w extends m.default.Component{constructor(e){super(e),this.toggle=(()=>{this.setState({collapsed:!this.state.collapsed})}),this.state={collapsed:!1,username:"",loading:!0,role:1}}componentDidMount(){var e=this;return(0,c.default)(s.default.mark(function t(){var a;return s.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,p.check)();case 2:a=t.sent,console.log("base layout did mount =================== "),console.log(a),-10===a.code?g.default.replace("/login"):e.setState({loading:!1,username:a.payload.username,role:parseInt(a.payload.role)});case 6:case"end":return t.stop()}},t)}))()}logout(){(0,p.logout)().then(e=>{g.default.replace("/login")})}go_route(e){g.default.push(e)}render(){var e=m.default.createElement(i.default,null,m.default.createElement(i.default.Item,{onClick:()=>this.logout(),key:"logout"},"\u6ce8\u9500"),m.default.createElement(i.default.Item,{onClick:()=>this.go_route("/user/changepass"),key:"changePass"},"\u4fee\u6539\u5bc6\u7801"),m.default.createElement(i.default.Item,{onClick:()=>this.go_route("/user/actlog"),key:"actlog"},"\u64cd\u4f5c\u8bb0\u5f55"));return m.default.createElement(n.default,{tip:"\u52a0\u8f7d\u4e2d...",spinning:this.state.loading,delay:!0},m.default.createElement(f.default,{style:{height:"100vh",minHeight:800}},m.default.createElement(k,{trigger:null,collapsible:!0,collapsed:this.state.collapsed,width:240},m.default.createElement("div",{className:h.default.logo},"\u5fa1\u5929\u5251\u9053GM\u5e73\u53f0"),m.default.createElement(i.default,{defaultOpenKeys:[this.props.children.props.location.pathname.split("/")[1]],theme:"dark",defaultSelectedKeys:[this.props.children.props.location.pathname],mode:"inline"},m.default.createElement(i.default.Item,{onClick:()=>this.go_route("/player"),key:"/player"},m.default.createElement("span",null,"\u73a9\u5bb6\u64cd\u4f5c")),this.state.role>=2?m.default.createElement(i.default.Item,{key:"/batchact",onClick:()=>this.go_route("/batchact")},m.default.createElement("span",null,"\u6279\u91cf\u64cd\u4f5c")):null,this.state.role>=2?m.default.createElement(i.default.Item,{key:"/broadcast",onClick:()=>this.go_route("/broadcast")},m.default.createElement("span",null,"\u670d\u52a1\u5668\u5e7f\u64ad")):null,this.state.role>=3?m.default.createElement(_,{key:"sysact",title:"\u7cfb\u7edf\u64cd\u4f5c"},m.default.createElement(i.default.Item,{key:"/sysact/activity",onClick:()=>this.go_route("/sysact/activity")},m.default.createElement("span",null,"\u670d\u52a1\u4e0e\u6d3b\u52a8\u7ba1\u7406")),m.default.createElement(i.default.Item,{key:"/sysact/gmins",onClick:()=>this.go_route("/sysact/gmins")},m.default.createElement("span",null,"GM\u6307\u4ee4")),m.default.createElement(i.default.Item,{key:"/sysact/srvforcedown",onClick:()=>this.go_route("/sysact/srvforcedown")},m.default.createElement("span",null,"\u670d\u52a1\u5668\u5f3a\u5236\u4e0b\u7ebf"))):null,this.state.role>=3?m.default.createElement(_,{key:"gmman",title:m.default.createElement("span",null,"GM\u7ba1\u7406")},m.default.createElement(i.default.Item,{key:"/gmman",onClick:()=>this.go_route("/gmman")},m.default.createElement("span",null,"GM\u5217\u8868")),m.default.createElement(i.default.Item,{key:"/gmman/add",onClick:()=>this.go_route("/gmman/add")},m.default.createElement("span",null,"\u6dfb\u52a0GM")),m.default.createElement(i.default.Item,{key:"/gmman/actlogs",onClick:()=>this.go_route("/gmman/actlogs")},m.default.createElement("span",null,"\u64cd\u4f5c\u65e5\u5fd7"))):null)),m.default.createElement(f.default,null,m.default.createElement(E,{style:{background:"#fff",padding:0}},m.default.createElement("div",{className:h.default.headerItem},m.default.createElement(r.default,{className:h.default.trigger,type:this.state.collapsed?"menu-unfold":"menu-fold",onClick:this.toggle})),m.default.createElement("div",{className:h.default.headerItem},m.default.createElement(o.default,{className:h.default.select,placeholder:"\u9009\u62e9\u767b\u9646\u7c7b\u578b",style:{width:120}},m.default.createElement(I,{value:"ifgame"},"ifgame")),m.default.createElement(o.default,{className:h.default.select,placeholder:"\u9009\u62e9\u767b\u9646\u7c7b\u578b",style:{width:120}},m.default.createElement(I,{value:"ifgame"},"ifgame")),m.default.createElement(o.default,{className:h.default.select,placeholder:"\u9009\u62e9\u767b\u9646\u7c7b\u578b",style:{width:120}},m.default.createElement(I,{value:"ifgame"},"ifgame")),m.default.createElement(o.default,{className:h.default.select,placeholder:"\u9009\u62e9\u767b\u9646\u7c7b\u578b",style:{width:120}},m.default.createElement(I,{value:"ifgame"},"ifgame"))),m.default.createElement("div",{className:h.default.headerItem,style:{float:"right",marginRight:50}},m.default.createElement(u.default,{overlay:e,trigger:["click"]},m.default.createElement(d.default,{style:{marginRight:5}},this.state.username)))),m.default.createElement(y,{style:{margin:16}},this.props.children),m.default.createElement(v,{style:{textAlign:"center"}}))))}}var C=w;t.default=C},J0ax:function(e,t,a){e.exports={trigger:"trigger___3oBkS",logo:"logo___1tLql",select:"select___2x-jk",headerItem:"headerItem___3OHm0"}},LVFT:function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a("d6i3")),u=l(a("1l/V")),d=l(a("q1tI")),r=l(a("usdK")),s=a("cNiB");class c extends d.default.PureComponent{componentDidMount(){return(0,u.default)(n.default.mark(function e(){var t;return n.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,s.check)();case 2:t=e.sent,0===t.code&&r.default.replace("/");case 4:case"end":return e.stop()}},e)}))()}render(){return d.default.createElement("div",null,this.props.children)}}var o=c;t.default=o},gSQL:function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("miYZ");var n=l(a("tsqr")),u=l(a("q1tI")),d=l(a("GOVz")),r=l(a("LVFT")),s=e=>{return n.default.config({top:24,duration:2,maxCount:3}),"/login"===e.location.pathname?u.default.createElement(r.default,null,e.children):u.default.createElement(d.default,null,e.children)},c=s;t.default=c}}]);